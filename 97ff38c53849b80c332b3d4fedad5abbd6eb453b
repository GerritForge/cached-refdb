{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c5aa99e8_636930f9",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/CachedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 146,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2026-02-02T15:46:12Z",
      "side": 1,
      "message": "This is a bit weird?\n\nWe\u0027re adding to refsCache in 2 different ways, and the second method is generic about refsCache, rather than specific about refs_names_by_project.\n\nEither we have one method that adds to both or we rename the second method?",
      "range": {
        "startLine": 145,
        "startChar": 6,
        "endLine": 146,
        "endChar": 60
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6555f341_1faa3b3c",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/CachedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 146,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2026-02-03T12:59:06Z",
      "side": 1,
      "message": "+1, this is inconsistent. If you ever forget to call one of the two, you\u0027ll end up with an in-memory inconsistency.",
      "parentUuid": "c5aa99e8_636930f9",
      "range": {
        "startLine": 145,
        "startChar": 6,
        "endLine": 146,
        "endChar": 60
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ccdcc539_3322b03b",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/CachedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 146,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2026-02-04T08:47:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6555f341_1faa3b3c",
      "range": {
        "startLine": 145,
        "startChar": 6,
        "endLine": 146,
        "endChar": 60
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e949913_ae009684",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/CachedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 165,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2026-02-02T15:46:12Z",
      "side": 1,
      "message": "Should these 2 lines be part of a separate change?\nhave we seen scenarios where this is actually needed?\n\nI feel like we\u0027re trying to do something that really should be responsability of the caller.",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 165,
        "endChar": 19
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1a6cce3_9542eee7",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/CachedRefDatabase.java",
        "patchSetId": 13
      },
      "lineNbr": 165,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2026-02-04T14:14:56Z",
      "side": 1,
      "message": "This is a public API, we are not sure about the input parameters.",
      "parentUuid": "1e949913_ae009684",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 165,
        "endChar": 19
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99fe0d0e_b940e248",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 53,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2026-02-02T15:46:12Z",
      "side": 1,
      "message": "Interesting type, I\u0027m not sure I\u0027ve ever seen this before? I see it referenced in JGit but doesn\u0027t look like its used?\n\nAny specific reason for going with this?",
      "range": {
        "startLine": 53,
        "startChar": 48,
        "endLine": 53,
        "endChar": 65
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2e7a08e_578da3dd",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 53,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2026-02-04T10:56:09Z",
      "side": 1,
      "message": "This data type allows an efficient way of retrieving all the prefixes and a simple interface to update the data structure.",
      "parentUuid": "99fe0d0e_b940e248",
      "range": {
        "startLine": 53,
        "startChar": 48,
        "endLine": 53,
        "endChar": 65
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7281283c_440031d4",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 84,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2026-02-02T15:46:12Z",
      "side": 1,
      "message": "Should we look to extract loaders in separate files?",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 41
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c52c4c73_6e6b1862",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 84,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2026-02-04T14:14:56Z",
      "side": 1,
      "message": "I think it is ok to keep them in the cache implementation. Normally when you are looking at the cache implementation you are looking for the loader as well. What would be the advantage of haveing them in a separate file?",
      "parentUuid": "7281283c_440031d4",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 41
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33cc69f4_364b5d64",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 117,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2026-02-02T15:29:33Z",
      "side": 1,
      "message": "Is this type needed at all? Why not simply use a Project.NameKey?",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 117,
        "endChar": 67
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "495a4d11_571985bf",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 117,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2026-02-04T14:14:56Z",
      "side": 1,
      "message": "I am just adding it to make clear is the cache key.\nWe might want to add it for the other caches as well. This will be consistent with the rest of the code.",
      "parentUuid": "33cc69f4_364b5d64",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 117,
        "endChar": 67
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b87bb52_bfd40513",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 117,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2026-02-12T15:51:21Z",
      "side": 1,
      "message": "Apologies, I still don\u0027t understand why we need this extra record. Isn\u0027t `Project.NameKey` already clear enough to say that it is the name of the project?",
      "parentUuid": "495a4d11_571985bf",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 117,
        "endChar": 67
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95f2b407_4f6e3e4e",
        "filename": "src/main/java/com/gerritforge/gerrit/plugins/cachedrefdb/RefByNameCacheImpl.java",
        "patchSetId": 13
      },
      "lineNbr": 117,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2026-02-12T17:07:18Z",
      "side": 1,
      "message": "Removed",
      "parentUuid": "6b87bb52_bfd40513",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 117,
        "endChar": 67
      },
      "revId": "97ff38c53849b80c332b3d4fedad5abbd6eb453b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}